@page "/AddStaff"




<EditForm Model="@Staff" OnValidSubmit="@HandleValidSubmit" class="card col-md-6 offset-2">
    <DataAnnotationsValidator />
    <h5 class="card-title" style="padding-top:20px">Add Staff</h5>
    <ValidationSummary></ValidationSummary>
    <div class="row">
        <div class="form-group col-md-6">
            <InputText @bind-Value="@Staff.FirstName" placeholder="First Name" type="text" class="form-control form-control-sm"></InputText>
        </div>
        <div class="form-group col-md-6">
            <InputText @bind-Value="@Staff.MiddleNames" placeholder="(Middle Names)" type="text" class="form-control form-control-sm"></InputText>
        </div>
    </div>
    <div class="form-group">
        <InputText @bind-Value="@Staff.LastName" placeholder="Last Name" type="text" class="form-control form-control-sm"></InputText>
        <div class="container" style="margin-top:20px">
            <div class="row">
                <SelectRoles AddRole="AddRole"></SelectRoles>
                <div class="form-group">
                    @if (Staff.Roles.Any())
                    {
                        @if (Staff.Roles.Count == 1)
                        {
                            <div class="col-form-label-sm">Role</div>
                        }
                        else
                        {
                            <div class="col-form-label-sm">Roles</div>
                        }@foreach (var role in Staff.Roles)
                        {
                            <RolesOutput Role="role" RemoveRole="RemoveRole"></RolesOutput>
                        }
                    }
                </div>
            </div>
        </div>
        @if (Staff.Roles.Any(r => r.Id == 6))//head of house
        {
            <HeadOfHouseSelect AddHouse="AddHouse"></HeadOfHouseSelect>
        }
        @if (Staff.Roles.Any(r => r.Id == 3))//teacher
        {
            <CourseSelect AddCourse="AddCourse"></CourseSelect>
            <CoursesOutput Staff="Staff"></CoursesOutput>
        }
        <div class="form-group">
            <button name="submit" type="submit" class="btn btn-block">Submit</button>
        </div>
    </div>
</EditForm>
